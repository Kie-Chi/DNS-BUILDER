{
    "bind": {
        "recursor": {
            "command": [
                "named",
                "-g",
                "-c",
                "/usr/local/etc/named.conf"
            ],
            "volumes": [
                "resource:bind_recursor_base.conf:/usr/local/etc/named.conf"
            ]
        },
        "auth": {
            "command": [
                "named",
                "-g",
                "-c",
                "/usr/local/etc/named.conf"
            ],
            "volumes": [
                "resource:bind_auth_base.conf:/usr/local/etc/named.conf"
            ]
        },
        "forwarder": {
            "command": [
                "named",
                "-g",
                "-c",
                "/usr/local/etc/named.conf"
            ],
            "volumes": [
                "resource:bind_forwarder_base.conf:/usr/local/etc/named.conf"
            ]
        }
    },
    "unbound": {
        "recursor": {
            "volumes": [
                "resource:unbound_recursor_base.conf:/usr/local/etc/unbound/unbound.conf"
            ]
        },
        "forwarder": {
            "volumes": [
                "resource:unbound_forwarder_base.conf:/usr/local/etc/unbound/unbound.conf"
            ]
        }
    },
    "monitor": {
        "influxdb": {
            "build": false,
            "image": "tutum/influxdb",
            "ports": [
                "8083:8083",
                "8086:8086"
            ],
            "mounts": [
                "./${name}/contents:/data"
            ]
        },
        "cadvisor": {
            "build": false,
            "image": "google/cadvisor",
            "ports": [
                "8080:8080"
            ],
            "volumes": [
                "/:/rootfs:ro",
                "/var/run:/var/run:rw",
                "/sys:/sys:ro",
                "/var/lib/docker/:/var/lib/docker:ro"
            ]
        },
        "grafana": {
            "build": false,
            "image": "grafana/grafana",
            "user": "104",
            "ports": [
                "3000:3000"
            ],
            "mounts": [
                "./${name}/contents:/var/lib/grafana"
            ]
        },
        "traffic": {
            "cap_add": [
                "NET_ADMIN",
                "NET_RAW"
            ],
            "network_mode": "host",
            "address": "",
            "environment": {
                "ENABLE_PROMETHEUS_EXPORTER": "true",
                "INET": "${project.inet}"
            },
            "volumes": [
                "resource:/scripts/sh/pcap.sh:/usr/local/etc/pcap.sh",
                "resource:/scripts/configs/supervisord.conf:/usr/local/etc/supervisord.conf"
            ],
            "mounts": [
                "./${name}/contents:/usr/local/etc"
            ],
            "command": [
                "bash",
                "/usr/local/etc/pcap.sh"
            ],
            "expose": [
                "53",
                "9153"
            ]
        }
    }
}