# Dockerfile for {name} (Python v{version})
# Auto-generated by DNS Builder

# The base image is now configurable by the Image class
FROM {base_image}

ENV DEBIAN_FRONTEND=noninteractive

# --- STAGE 1: Install Python Dependencies via Pip ---
# These packages are specified in the 'util' list with a 'python3-' prefix.
{pip_packages}

# --- STAGE 2: Install Runtime Utilities ---
# Install utils for user
RUN apt-get update && apt-get install -y --no-install-recommends {util_packages} && \
    rm -rf /var/lib/apt/lists/*

# Set up the working directory
WORKDIR /usr/local/etc

# Expose standard DNS ports
EXPOSE 53/tcp
EXPOSE 53/udp

# Define default command
# CMD ["python", "main.py"]