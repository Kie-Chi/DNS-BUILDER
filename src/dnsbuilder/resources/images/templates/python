# Dockerfile for {name} (Python v{version})
# Auto-generated by DNS Builder

# The base image is now configurable by the Image class
FROM {base_image}

ENV DEBIAN_FRONTEND=noninteractive

# Install chsrc if mirror config uses 'auto'
{chsrc_install_setup}

# Optional mirror setup
{apt_mirror_setup}
{pip_mirror_setup}

# --- STAGE 1: Install Python Dependencies via Pip ---
# These packages are specified in the 'util' list with a 'python3-' prefix.
# Nothing at all

# --- STAGE 2: Install Runtime Utilities ---
# Install utils for user
{util_packages}

# Set up the working directory
WORKDIR /usr/local/etc

# Expose standard DNS ports
EXPOSE 53/tcp
EXPOSE 53/udp

# Define default command
# CMD ["python", "main.py"]